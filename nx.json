{
  "$schema": "./node_modules/nx/schemas/workspace-schema.json",
  "workspaceLayout": {
    "appsDir": "apps",
    "libsDir": "packages"
  },
  "projectSettings": {
    "magus-mark-core": {
      "tags": ["core", "shared"],
      "implicitDependencies": [],
      "namedInputs": {
        "production": ["default"],
        "test": ["default", "{projectRoot}/src/**/*.test.ts"]
      },
      "targets": {
        "build": {
          "executor": "nx:run-commands",
          "outputs": ["{projectRoot}/dist"],
          "options": {
            "commands": [
              "tsc -p {projectRoot}/tsconfig.json --emitDeclarationOnly --outDir {projectRoot}/dist/types",
              "node {projectRoot}/esbuild.config.js"
            ],
            "parallel": false,
            "cwd": "packages/core"
          }
        }
      }
    },
    "magus-mark-cli": {
      "tags": ["app", "cli"],
      "implicitDependencies": ["packages/core"],
      "namedInputs": {
        "production": ["default"],
        "test": ["default", "{projectRoot}/src/**/*.test.ts"]
      },
      "targets": {
        "build": {
          "executor": "nx:run-commands",
          "outputs": ["{projectRoot}/dist"],
          "options": {
            "command": "node {projectRoot}/esbuild.config.js",
            "cwd": "apps/cli"
          }
        }
      }
    },
    "magus-mark-obsidian": {
      "tags": ["app", "obsidian"],
      "implicitDependencies": ["packages/core"],
      "namedInputs": {
        "production": ["default"],
        "test": ["default", "{projectRoot}/src/**/*.test.ts", "{projectRoot}/src/**/*.test.tsx"]
      },
      "targets": {
        "build": {
          "executor": "nx:run-commands",
          "outputs": ["{projectRoot}/main.js", "{projectRoot}/styles.css", "{projectRoot}/manifest.json"],
          "options": {
            "command": "node -r esbuild-register {projectRoot}/esbuild.config.ts",
            "cwd": "apps/obsidian-plugin"
          }
        },
        "test:integration": {
          "command": "echo \"Obsidian Plugin Integration Test Placeholder - Run manually\""
        }
      }
    },
    "magus-mark-vscode": {
      "tags": ["app", "vscode"],
      "implicitDependencies": ["packages/core"],
      "namedInputs": {
        "production": ["default"],
        "test": ["default", "{projectRoot}/src/**/*.test.ts", "{projectRoot}/src/**/*.test.tsx"]
      },
      "targets": {
        "build": {
          "executor": "nx:run-commands",
          "outputs": ["{projectRoot}/dist"],
          "options": {
            "command": "vsce package",
            "cwd": "apps/vscode"
          }
        },
        "test:integration": {
          "executor": "nx:run-script",
          "options": {
            "script": "test:vscode"
          }
        }
      }
    },
    "packages/@magus-mark/eslint-config": {
      "tags": ["config", "shared"],
      "implicitDependencies": []
    },
    "packages/@magus-mark/typescript-config": {
      "tags": ["config", "shared"],
      "implicitDependencies": []
    }
  },
  "targetDefaults": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["{projectRoot}/dist"],
      "cache": true
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": ["{projectRoot}/coverage"],
      "cache": true
    },
    "lint": {
      "executor": "@nx/eslint:lint",
      "cache": true
    },
    "bundle-analysis": {
      "dependsOn": ["^bundle-analysis"],
      "cache": true
    },
    "check-accessibility": {
      "dependsOn": ["^check-accessibility"],
      "cache": true
    },
    "package": {
      "dependsOn": ["^package"],
      "cache": true
    },
    "prebuild": {
      "dependsOn": ["^prebuild"]
    },
    "prerelease": {
      "dependsOn": ["^prerelease"]
    },
    "test:coverage": {
      "dependsOn": ["^test:coverage"],
      "cache": true
    },
    "typecheck": {
      "command": "tsc -p {projectRoot}/tsconfig.json --noEmit",
      "cache": true
    },
    "vscode:prepublish": {
      "dependsOn": ["^vscode:prepublish"]
    },
    "clean": {
      "command": "rm -rf {projectRoot}/dist {projectRoot}/coverage {projectRoot}/**/*.tsbuildinfo {projectRoot}/node_modules/.vite-temp",
      "cache": false
    },
    "format": {
      "cache": true
    },
    "test:integration": {
      "dependsOn": ["build"],
      "cache": true
    }
  },
  "plugins": [
    {
      "plugin": "@nx/eslint/plugin",
      "options": {
        "targetName": "lint"
      }
    },
    "@nx-go/nx-go"
  ],
  "nxCloudId": "68070cc4a0c749f66b8836a0",
  "namedInputs": {
    "sharedGlobals": ["{workspaceRoot}/.github/workflows/ci.yml", "{workspaceRoot}/go.work"],
    "default": ["sharedGlobals"]
  },
  "extends": "nx/presets/npm.json",
  "affected": {
    "defaultBase": "main"
  },
  "generators": {
    "library": {
      "factory": "./tools/generators/library/index.mjs",
      "schema": "./tools/generators/library/schema.json",
      "description": "Create a new library package"
    },
    "app": {
      "factory": "./tools/generators/app/index.mjs",
      "schema": "./tools/generators/app/schema.json",
      "description": "Create a new application"
    }
  }
}
